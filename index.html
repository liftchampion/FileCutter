<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>

var filename = "1337";

function download(filename, text) {
    var element = document.createElement('a');
    element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(text));
    element.setAttribute('download', filename);

    element.style.display = 'none';
    document.body.appendChild(element);

    element.click();

    document.body.removeChild(element);
}

function cut(content) {
 return content;
}

function create_new(contents) {
    let new_content = cut(contents);
    download(filename, "GG");
}

function clickElem(elem) {
    // Thx user1601638 on Stack Overflow (6/6/2018 - https://stackoverflow.com/questions/13405129/javascript-create-and-save-file )
    var eventMouse = document.createEvent("MouseEvents");
    eventMouse.initMouseEvent("click", true, false, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);
    elem.dispatchEvent(eventMouse)
}

function openFile(func) {
    readFile = function(e) {
        var file = e.target.files[0];
        filename = file.name;
        if (!file) {
            return;
        }
        var reader = new FileReader();
        reader.onload = function(e) {
            var contents = e.target.result;
            fileInput.func(contents);
            document.body.removeChild(fileInput);
        };
        reader.readAsText(file);
    };
    fileInput = document.createElement("input");
    fileInput.type='file';
    fileInput.style.display='none';
    fileInput.onchange=readFile;
    fileInput.func=func;
    document.body.appendChild(fileInput);
    clickElem(fileInput);
}


</script>
Выбери файл и произойдет магия
<button onclick="openFile(create_new)">Open a file</button>


</body>
</html>
